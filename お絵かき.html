<html>
<title>お絵かき</title>
<canvas id = "a" width = "600"height="600"Style = "background-color : aaa"></canvas>
<br>
<button id = "clear">消す</button>
<script>
    const canvas = document.getElementById("a")
    const context = canvas.getContext("2d")
    const button = document.getElementById("clear")
   
    let mouse = {
        x: 0, y: 0
    }

    canvas.addEventListener("mousemove",function(e){
        mouse.x = e.pageX
        mouse.y = e.pageY
    })

    canvas.addEventListener("mousedown",function(){
        context.clearRect(0,0,canvas.width,canvas.height)
        context.beginPath()
        context.moveTo(mouse.x,mouse.y)
        canvas.addEventListener("mousemove",onp)
    })
    
    const onp = function (){
        context.lineTo(mouse.x,mouse.y)
        context.stroke()
    }

    canvas.addEventListener("mouseup",function(){
        canvas.removeEventListener("mousemove",onp,false)
    })
    
   clear.addEventListener("click",cle,false)

    function cle () {
         context.clearRect(0,0,context.canvas.width,context.canvas.height) 
    }
</script>
</html>
